@import "tailwindcss";

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 222.2 84% 4.9%;
    --card: 0 0% 100%;
    --card-foreground: 222.2 84% 4.9%;
    --popover: 0 0% 100%;
    --popover-foreground: 222.2 84% 4.9%;
    --primary: 222.2 47.4% 11.2%;
    --primary-foreground: 210 40% 98%;
    --secondary: 210 40% 96%;
    --secondary-foreground: 222.2 84% 4.9%;
    --muted: 210 40% 96%;
    --muted-foreground: 215.4 16.3% 46.9%;
    --accent: 210 40% 96%;
    --accent-foreground: 222.2 84% 4.9%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;
    --border: 214.3 31.8% 91.4%;
    --input: 214.3 31.8% 91.4%;
    --ring: 222.2 84% 4.9%;
    --radius: 0.5rem;
  }

  .dark {
    --background: 222.2 84% 4.9%;
    --foreground: 210 40% 98%;
    --card: 222.2 84% 8%;
    --card-foreground: 210 40% 98%;
    --popover: 222.2 84% 4.9%;
    --popover-foreground: 210 40% 98%;
    --primary: 210 40% 98%;
    --primary-foreground: 222.2 47.4% 11.2%;
    --secondary: 217.2 32.6% 17.5%;
    --secondary-foreground: 210 40% 98%;
    --muted: 217.2 32.6% 17.5%;
    --muted-foreground: 215 20.2% 65.1%;
    --accent: 217.2 32.6% 17.5%;
    --accent-foreground: 210 40% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 40% 98%;
    --border: 217.2 32.6% 17.5%;
    --input: 217.2 32.6% 17.5%;
    --ring: 212.7 26.8% 83.9%;
  }
}

@layer base {
  * {
    border-color: hsl(var(--border));
  }
  body {
    background-color: hsl(var(--background));
    color: hsl(var(--foreground));
  }
  /* Global cursor behavior for interactive elements */
  button:not(:disabled):not([aria-disabled="true"]),
  a[href],
  [role="button"] {
    cursor: pointer;
  }
  button:disabled,
  [aria-disabled="true"] {
    cursor: not-allowed;
  }
}


@layer components {
  /* Model chips (SpeedTestInterface & ExercismArena) */
  .llm-model-chip {
    position: relative;
    z-index: 0;
    transition: box-shadow 150ms ease;
  }
  .llm-model-chip:hover {
    box-shadow: 0 2px 8px hsl(var(--foreground) / 0.08);
  }
  .llm-model-chip--selected {
    box-shadow: inset 0 0 0 2px hsl(var(--primary));
  }
  .llm-model-chip:focus-visible {
    box-shadow: 0 0 0 3px hsl(var(--primary) / 0.3);
  }
  /* Specific highlight for a popular model */
  #llm-model-chip-meituan_longcat-flash-chat {
    border-color: hsl(var(--ring));
    background-image: linear-gradient(
      to bottom right,
      hsl(var(--card)) 0%,
      hsl(var(--card) / 0.9) 100%
    );
  }

  /* Green checkbox badge */
  .llm-model-checkbox,
  .exercism-model-checkbox {
    box-shadow: 0 1px 4px rgba(16, 185, 129, 0.35); /* emerald shadow */
  }

  /* Results cards */
  .llm-result-card,
  .exercism-result-card,
  .provider-model-card,
  .saved-model-card {
    transition: box-shadow 150ms ease, transform 150ms ease, border-color 150ms ease;
  }
  .llm-result-card:hover,
  .exercism-result-card:hover,
  .provider-model-card:hover,
  .saved-model-card:hover {
    box-shadow: 0 6px 20px hsl(var(--foreground) / 0.10);
    transform: translateY(-1px);
  }
  .llm-result-card-header {
    background-color: hsl(var(--muted) / 0.35);
  }
  .llm-result-card-footer {
    background-color: hsl(var(--muted) / 0.25);
  }

  /* Prompt area */
  #llm-prompt-textarea,
  .llm-prompt-textarea {
    background-color: #f3f4f6 !important; /* light gray instead of white */
    color: #0f172a !important;            /* slate-900 for readability */
    border: 1px solid hsl(var(--border)) !important;
  }
  #llm-prompt-textarea::placeholder,
  .llm-prompt-textarea::placeholder {
    color: #6b7280; /* gray-500 */
  }

  /* Model search input */
  .llm-model-search {
    background-color: hsl(var(--muted) / 0.35) !important;
    border: 1px solid hsl(var(--border)) !important;
  }
  /* Dark mode overrides */
  .dark #llm-prompt-textarea,
  .dark .llm-prompt-textarea {
    background-color: hsl(var(--muted)) !important; /* lighter than site background in dark mode */
    color: hsl(var(--foreground)) !important;
    border: 1px solid hsl(var(--border)) !important;
  }

  /* Dark theme for Exercism exercise select (native dropdowns) */
  .dark #exercism-exercise-select {
    background-color: hsl(var(--popover)) !important;
    color: hsl(var(--popover-foreground)) !important;
    border-color: hsl(var(--border)) !important;
    color-scheme: dark; /* hint to UA for native controls */
  }
  .dark #exercism-exercise-select option {
    background-color: hsl(var(--popover));
    color: hsl(var(--popover-foreground));
  }


  .dark .llm-model-chip:not(.llm-model-chip--selected) {
    background-color: hsl(var(--muted) / 0.30) !important; /* slightly lighter than background */
    border-color: hsl(var(--border)) !important;
  }
  .dark .llm-model-chip:not(.llm-model-chip--selected):hover {
    background-color: hsl(var(--muted) / 0.45) !important;
  }



/* Bright, always-visible, taller scrollbars (global) */
@layer base {
  html, body { scrollbar-gutter: stable both-edges; }
  /* Firefox */
  * { scrollbar-width: auto; scrollbar-color: hsl(var(--foreground)) hsl(var(--muted) / 0.25); }
  .dark * { scrollbar-color: #ffffff hsl(var(--muted) / 0.45); }
}
/* WebKit-based browsers */
*::-webkit-scrollbar { width: 18px; height: 18px; }
*::-webkit-scrollbar-track { background: hsl(var(--muted) / 0.25); }
.dark *::-webkit-scrollbar-track { background: hsl(var(--muted) / 0.35); }
*::-webkit-scrollbar-thumb {
  background-color: hsl(var(--foreground));
  border-radius: 9999px;
  min-height: 40px;
}
.dark *::-webkit-scrollbar-thumb { background-color: #ffffff; }
*::-webkit-scrollbar-thumb:horizontal { min-width: 40px; }
*::-webkit-scrollbar-thumb:hover { background-color: #ffffff; }

  /* Panels and containers */
  .llm-selection-container,
  .llm-prompt-container,
  .provider-models-browser {
    border-color: hsl(var(--border));
    backdrop-filter: saturate(1.1);
  }

  /* Buttons */
  .llm-run-button {
    text-transform: none;
  }
  .saved-model-delete:hover {
    border-color: hsl(var(--destructive));
    color: hsl(var(--destructive));
  }
}
